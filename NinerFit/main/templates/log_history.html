{% extends 'base.html' %}

{% block title %}Log History - NinerFit{% endblock %}

{% block content %}
<div class="health-container">
    <h1 style="text-align: center">Log History</h1>

    <div style="text-align: center; margin-bottom: 20px;">
        <form method="POST" style="display: inline-block; margin-right: 10px;">
            {% csrf_token %}
            <button type="submit" name="generate_dummy_logs" style="
                background-color: #28a745;
                color: white;
                padding: 10px 20px;
                border-radius: 8px;
                font-size: 16px;
                border: none;
                cursor: pointer;
            ">
                Generate Dummy Logs
            </button>
        </form>

        <form method="POST" style="display: inline-block;">
            {% csrf_token %}
            <button type="submit" name="reset_today_only" style="
                background-color: #dc3545;
                color: white;
                padding: 10px 20px;
                border-radius: 8px;
                font-size: 16px;
                border: none;
                cursor: pointer;
            ">
                Reset to Today Only
            </button>
        </form>
    </div>

    <!-- Log Table -->
    <table style="width:100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr style="background-color: #007bff; color: white;">
                <th style="padding: 10px;">Date</th>
                <th style="padding: 10px;">Calories</th>
                <th style="padding: 10px;">Water (cups)</th>
                <th style="padding: 10px;">Sleep (hrs)</th>
            </tr>
        </thead>
        <tbody>
            {% for log in logs %}
            <tr style="background-color: {% cycle '#f9f9f9' 'white' %};">
                <td style="padding: 10px;">{{ log.date }}</td>
                <td style="padding: 10px;">{{ log.calories }}</td>
                <td style="padding: 10px;">{{ log.water_cups }}</td>
                <td style="padding: 10px;">{{ log.sleep_hours }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" style="padding: 20px; text-align: center;">No logs yet!</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
